Depyt â€” yet-an-other type combinator library
-------------------------------------------------------------------------------
%%VERSION%%

Depyt is yet an-other type combinator library. It tries to expose a nice API
to define records and variants. It also exposes higher-level combinators
to easily generate equality functions, comparators, pretty-printer, parser
and unparsers.

For instance, to define variants:

```ocaml
# open Depyt;;
# type t = Foo | Bar of string option;;
# let t =
    let foo, mkfoo = case0 "Foo" Foo in
    let bar, mkbar = case1 "Bar" (option string) (fun x -> Bar x) in
    variant "v" [foo; bar] (function Foo -> mkfoo | Bar x -> mkbar x);;
val t : t Depyt.t = <abstr>

# Fmt.pr "t = %a\n" (pp t) Foo;;
t = Foo
- : unit = ()

# compare t Foo (Bar (Some "a"));;
- : int = -1
```

To define records:

```ocaml
# open Depyt;;
# type t = { foo: int; bar: string list };;
# let t =
    let foo = field "foo" int (fun t -> t.foo) in
    let bar = field "bar" (list string) (fun t -> t.bar) in
    record2 "r" foo bar @@ fun foo bar -> { foo; bar };;
va t : t Depyt.t = <abstr>
```

Depyt is distributed under the ISC license.

Homepage: https://github.com/samoht/depyt

## Installation

Depyt can be installed with `opam`:

    opam install depyt

If you don't use `opam` consult the [`opam`](opam) file for build
instructions.

## Documentation

The documentation and API reference is automatically generated by from
the source interfaces. It can be consulted [online][doc] or via
`odig doc depyt`.

[doc]: https://samoht.github.io/depyt/doc

## Sample programs

If you installed depyt with `opam` sample programs are located in
the directory `opam config var depyt:doc`.

In the distribution sample programs and tests are located in the
[`test`](test) directory of the distribution. They can be built and run
with:

    topkg build --tests true && topkg test
